From: James Cowgill <jcowgill@debian.org>
Date: Mon, 21 Feb 2022 20:37:25 +0100
Subject: Workarounds for dpkg-shlibdeps warnings

This patch gives SONAMEs to liblibcodelite and libplugin. This fixes the
dpkg-shlibdeps warnings and allows codelite-plugins to "properly" link against
libraries from the codelite package.

Converting the other libraries to static libs is ok since they are only used
by one library. It also reduces the final size and fixes some more warnings.

Forwarded: not-needed
---
 CodeLite/CMakeLists.txt             | 1 +
 Plugin/CMakeLists.txt               | 2 +-
 sdk/databaselayer/CMakeLists.txt    | 2 +-
 sdk/wxshapeframework/CMakeLists.txt | 2 +-
 4 files changed, 4 insertions(+), 3 deletions(-)

--- a/Plugin/CMakeLists.txt
+++ b/Plugin/CMakeLists.txt
@@ -85,7 +85,7 @@
 
 # Define the output
 add_library(plugin SHARED ${SRCS})
-
+set_target_properties(plugin PROPERTIES SOVERSION 0)
 if(GTK2_FOUND)
     target_link_libraries(
         plugin
--- a/sdk/databaselayer/CMakeLists.txt
+++ b/sdk/databaselayer/CMakeLists.txt
@@ -73,7 +73,7 @@
 endif(WITH_MYSQL)
 
 # Define the output
-add_library(databaselayersqlite SHARED ${SRCS} ${MYSQL_SRCS})
+add_library(databaselayersqlite STATIC ${SRCS} ${MYSQL_SRCS})
 target_link_libraries(databaselayersqlite ${LINKER_OPTIONS} ${wxWidgets_LIBRARIES} ${SQLite3_LIBRARIES})
 
 codelite_install_library_target(databaselayersqlite)
--- a/sdk/wxshapeframework/CMakeLists.txt
+++ b/sdk/wxshapeframework/CMakeLists.txt
@@ -32,7 +32,7 @@
 file(GLOB SRCS "src/*.cpp" "src/wxxmlserializer/*.cpp")
 
 # Define the output
-add_library(wxshapeframework SHARED ${SRCS})
+add_library(wxshapeframework STATIC ${SRCS})
 
 target_link_libraries(wxshapeframework ${LINKER_OPTIONS} ${wxWidgets_LIBRARIES})
 
